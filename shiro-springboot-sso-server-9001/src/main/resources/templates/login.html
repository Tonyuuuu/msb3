<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>登录</title>
    <link rel="shortcut icon" href="favicon.ico"/>
    <link href="static/css/bootstrap.min.css" rel="stylesheet">
    <link href="static/css/font-awesome.min93e3.css?v=4.4.0" rel="stylesheet">
    <link href="static/css/animate.min.css" rel="stylesheet">
    <link href="static/css/style.min.css" rel="stylesheet">
    <link href="static/css/login.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <meta http-equiv="refresh" content="0;ie.html" />
    <![endif]-->
    <script>
        if(window.top!==window.self){window.top.location=window.location};
    </script>
</head>
<body class="signin">
    <div class="signinpanel">
        <div class="row">
            <div class="col-sm-7">
                <div class="signin-info">
                    <div class="logopanel m-b">
                        <h1>[ shiro后台 ]</h1>
                    </div>
                    <div class="m-b"></div>
                    <h4>欢迎使用 <strong>后台管理系统</strong></h4>
                </div>
            </div>
            <div class="col-sm-5">
                <form method="post" name="myform" id="myform" action="/login">
                    <input type="hidden" name="redirectUrl" value="${redirectUrl!}">
                    <p class="m-t-md" style='color:#a94442'></p>
                    <div><input class="form-control uname" id="username" name="username" type="text"  placeholder="用户名"></div>
                    <div><input class="form-control pword m-b" id="password" name="password" type="password" placeholder="密码"></div>
                    <div style="margin-top:90px">
                   		<button class="btn btn-success btn-block" type="submit" >登录</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="signup-footer">
            <div class="pull-left">
            </div>
        </div>
    </div>
    <script src="static/js/jquery.min.js?v=2.1.4"></script>
    <script src="static/js/validate/jquery.validate.min.js"></script>
    <script src="static/js/layer/layer.js" type="text/javascript"></script>
</body>
</html>
<script>
//点击切换验证码
$("#login_verifycode").click(function () {
    $("#login_verifycode").attr("src", "/captcha.jpg?time=" + Math.random());
});
$.validator.setDefaults({
    highlight: function(e) {
        $(e).closest(".form-group").removeClass("has-success").addClass("has-error")
    },
    success: function(e) {
        e.closest(".form-group").removeClass("has-error")//.addClass("has-success")
    },
    errorElement: "span",
    errorPlacement: function(error,element) {
        error.appendTo(element.is(":radio") || element.is(":checkbox") ? element.parent().parent().parent() : element.parent())
    },
    //errorClass: "help-block m-b-none",
    //validClass: "help-block m-b-none"
}), $().ready(function() {
		var e = "<i class='fa fa-times-circle'></i> ";
		$("#myform").validate({
			focusInvalid: true, 
			onkeyup:false,
			submitHandler: function(form){
                form.submit();
			},
			rules: {
				username: "required",
				password: "required"
			},
			messages: {
				username: e + "<span style='color:#a94442'>请输入用户名</span>",
				password: e + "<span style='color:#a94442'>请输入密码</span>"
			}
		})
});
</script>
